(this.webpackJsonpddo_audit=this.webpackJsonpddo_audit||[]).push([[13],{490:function(e,t,a){"use strict";a.r(t);var n,r,l=a(13),i=a(4),o=a(0),c=a.n(o),m=a(79),u=a(12),s=a(66),d=a(80),p=a(81),f=a(62),y=["svgRef","title"];function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var h,x,E,b=function(e){var t=e.svgRef,a=e.title,l=v(e,y);return c.a.createElement("svg",g({height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#FFFFFF",ref:t},l),a?c.a.createElement("title",null,a):null,n||(n=c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),r||(r=c.a.createElement("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"})))},N=c.a.forwardRef((function(e,t){return c.a.createElement(b,g({svgRef:t},e))})),L=(a.p,["svgRef","title"]);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var S=function(e){var t=e.svgRef,a=e.title,n=O(e,L);return c.a.createElement("svg",w({height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#FFFFFF",ref:t},n),a?c.a.createElement("title",null,a):null,h||(h=c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),x||(x=c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),E||(E=c.a.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z",fill:"#de9b1f"})))},j=c.a.forwardRef((function(e,t){return c.a.createElement(S,w({svgRef:t},e))})),C=(a.p,a(173)),k=function(e){var t=[{Name:"Alchemist",Short:"Alc"},{Name:"Artificer",Short:"Art"},{Name:"Barbarian",Short:"Barb"},{Name:"Bard",Short:"Brd"},{Name:"Cleric",Short:"Clr"},{Name:"Druid",Short:"Drd"},{Name:"Favored Soul",Short:"FvS"},{Name:"Fighter",Short:"Ftr"},{Name:"Monk",Short:"Mnk"},{Name:"Paladin",Short:"Pal"},{Name:"Ranger",Short:"Rgr"},{Name:"Rogue",Short:"Rog"},{Name:"Sorcerer",Short:"Sorc"},{Name:"Warlock",Short:"Wlk"},{Name:"Wizard",Short:"Wiz"}];return c.a.createElement("div",{className:"player"},c.a.createElement("div",{style:{display:"flex",flexDirection:"column",cursor:"pointer"},onClick:e.handleClick},c.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"10px",width:"100%"}},e.starred?c.a.createElement(j,{className:"link-icon favorite-star lit",onClick:function(t){e.handleStarred(),t.stopPropagation()}}):e.expanded&&c.a.createElement(N,{className:"link-icon favorite-star",onClick:function(t){e.handleStarred(),t.stopPropagation()}}),c.a.createElement("span",{style:{fontWeight:"bold",fontSize:"1.5rem"}},e.player.Name),c.a.createElement("span",{style:{fontWeight:"",fontSize:"1.5rem",color:"var(--text-faded)",marginLeft:"auto"}},"Level ",e.player.TotalLevel)),!e.expanded&&c.a.createElement("span",{style:{fontWeight:"",fontSize:"1.35rem",display:"flex",flexDirection:"row",alignItems:"center",gap:"3px"}},1===e.player.InParty&&c.a.createElement(C.a,{className:"link-icon in-group-icon",onClick:function(t){e.handleAddFilter("Group"),t.stopPropagation()}}),c.a.createElement("span",{className:"in-group-icon",onClick:function(t){e.handleAddFilter("Location"),t.stopPropagation()}},e.player.Location.Name))),e.expanded?c.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"2px",marginTop:"5px",fontSize:"1.4rem",cursor:"default"}},c.a.createElement("div",{className:"social-member"},c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",{className:"social-member-entry"},c.a.createElement("td",{className:"social-member-entry name",style:{paddingRight:"20px"}},"Classes"),c.a.createElement("td",{style:{color:"var(--text-faded)",paddingRight:"20px"}},e.player.Classes&&e.player.Classes.map((function(e,a){return null!==e.Name&&c.a.createElement("span",{key:a},0!==a&&" / ",function(e){var a="";return t.forEach((function(t){t.Name===e&&(a=t.Short)})),a||e}(e.Name)," ",e.Level)})))),c.a.createElement("tr",{className:"social-member-entry"},c.a.createElement("td",{className:"social-member-entry name",style:{paddingRight:"20px"}},"Guild"),c.a.createElement("td",{style:{color:"var(--text-faded)",paddingRight:"20px"}},e.player.Guild),c.a.createElement("td",{className:"blue-text-link",onClick:function(){return e.handleAddFilter("Guild")}},"Filter by this guild")),c.a.createElement("tr",{className:"social-member-entry"},c.a.createElement("td",{className:"social-member-entry name",style:{paddingRight:"20px"}},"Location"),c.a.createElement("td",{style:{color:"var(--text-faded)",paddingRight:"20px"}},e.player.Location&&e.player.Location.Name),c.a.createElement("td",{className:"blue-text-link",onClick:function(){return e.handleAddFilter("Location")}},"Filter by this location")),c.a.createElement("tr",{className:"social-member-entry"},c.a.createElement("td",{className:"social-member-entry name",style:{paddingRight:"20px"}},"In party"),c.a.createElement("td",{style:{color:"var(--text-faded)",paddingRight:"20px"}},e.player.InParty?"Yes":"No"),1===e.player.InParty&&c.a.createElement("td",{className:"blue-text-link",onClick:function(){return e.handleAddFilter("Group")}},"Filter by this group")),c.a.createElement("tr",{className:"social-member-entry"},c.a.createElement("td",{className:"social-member-entry name",style:{paddingRight:"20px"}},"Race"),c.a.createElement("td",{style:{color:"var(--text-faded)",paddingRight:"20px"}},e.player.Race)),c.a.createElement("tr",{className:"social-member-entry"},c.a.createElement("td",{className:"social-member-entry name",style:{paddingRight:"20px"}},"Gender"),c.a.createElement("td",{style:{color:"var(--text-faded)",paddingRight:"20px"}},e.player.Gender)))))):c.a.createElement(c.a.Fragment,null))},I=a(93),F=["Argonnessen","Cannith","Ghallanda","Khyber","Orien","Sarlona","Thelanis","Wayfinder","Hardcore"],G=["argonnessen","cannith","ghallanda","khyber","orien","sarlona","thelanis","wayfinder","hardcore"];t.default=function(e){var t,a,n,r,o=c.a.useState(null),y=Object(i.a)(o,2),g=y[0],v=y[1],h=c.a.useState({timestamp:0,data:null}),x=Object(i.a)(h,2),E=x[0],b=x[1],N=c.a.useState(null),L=Object(i.a)(N,2),w=L[0],O=L[1],S=c.a.useState(null),j=Object(i.a)(S,2),C=j[0],R=j[1],T=c.a.useState(null),M=Object(i.a)(T,2),B=(M[0],M[1],c.a.useState(null)),z=Object(i.a)(B,2),P=(z[0],z[1]),A=c.a.useState(null),W=Object(i.a)(A,2),D=(W[0],W[1]),H=c.a.useState(!0),J=Object(i.a)(H,2),Y=J[0],_=(J[1],c.a.useState([])),K=Object(i.a)(_,2),U=K[0],V=K[1],q=c.a.useState("level"),Q=Object(i.a)(q,2),X=Q[0],Z=Q[1],$=c.a.useState("ascending"),ee=Object(i.a)($,2),te=ee[0],ae=ee[1],ne=c.a.useState([]),re=Object(i.a)(ne,2),le=re[0],ie=re[1],oe=c.a.useState([]),ce=Object(i.a)(oe,2),me=ce[0],ue=ce[1];function se(e){var t=!1;return le.forEach((function(a){a.Name===e.Name&&(t=!0)})),t}function de(e){var t=!1;return me.forEach((function(a){a.name===e.Name&&a.server===g&&(t=!0)})),t}var pe=Object(u.f)().pathname.substring(Object(u.f)().pathname.lastIndexOf("/")+1);c.a.useEffect((function(){var e=pe.substring(0,1).toUpperCase()+pe.substring(1);F.includes(e)?v(e):v(F[0])}),[e.location]),c.a.useEffect((function(){null!==E&&null!==E.data&&(O(function(e){"level"===X?"ascending"===te?e.sort((function(e,t){return e.TotalLevel>t.TotalLevel})):e.sort((function(e,t){return e.TotalLevel<t.TotalLevel})):"guild"===X?"ascending"===te?e.sort((function(e,t){return e.Guild.localeCompare(t.Guild)})):e.sort((function(e,t){return t.Guild.localeCompare(e.Guild)})):"location"===X?"ascending"===te?e.sort((function(e,t){return e.Location.Name.localeCompare(t.Location.Name)})):e.sort((function(e,t){return t.Location.Name.localeCompare(e.Location.Name)})):"ascending"===te?e.sort((function(e,t){return e.Name.localeCompare(t.Name)})):e.sort((function(e,t){return t.Name.localeCompare(e.Name)}));var t=e.filter((function(e){return de(e)}));return e=e.filter((function(e){return!de(e)})),null!==U&&0!==U.length&&(e=e.filter((function(e){var t=!0;return U.forEach((function(a){switch(a.type){case"Name":e.Name.toLowerCase().includes(a.value.toLowerCase())||(t=!1);break;case"Guild":e.Guild.toLowerCase().includes(a.value.toLowerCase())||(t=!1);break;case"Location":e.Location.Name.toLowerCase().includes(a.value.toLowerCase())||(t=!1);break;case"Group":e.GroupId!==a.value&&(t=!1);break;case"Min Level":e.TotalLevel<a.value&&(t=!1);break;case"Max Level":e.TotalLevel>a.value&&(t=!1)}})),t}))),e=[].concat(Object(l.a)(t),Object(l.a)(e))}(E.data.Players)),w&&O([{Name:"Clemeit",TotalLevel:30,Guild:"Best Guild Ever",Gender:"Male",Race:"Human",Location:{Name:"The Marketplace"},Classes:[{Name:"Favored Soul",Level:20},{Name:"Epic",Level:30}],InParty:1,GroupId:123}].concat(Object(l.a)(w))))}),[U,E,X,te,me]),c.a.useEffect((function(){var e=5;function t(){Object(f.a)("https://www.playeraudit.com/api/playersnew?s="+(G.includes(pe.toLowerCase())?pe:""),5e3).then((function(t){P(Date.now()),D(!0),Object(f.c)(t)?(Se([]),e=0,b({timestamp:Date.now(),data:t})):++e>5&&Se([].concat(Object(l.a)(Oe),[{title:"Something went wrong",message:"Pretty descriptive, I know. Try refreshing the page. If the issue continues, please report it.",icon:"warning",fullscreen:!1,reportMessage:JSON.stringify(t)||"Player data returned null"}]))})).catch((function(){e++,P(Date.now()),D(!0),e>5&&Se([].concat(Object(l.a)(Oe),[{title:"We're stuck on a loading screen",message:"This is taking longer than usual. You can refresh the page or report the issue.",icon:"warning",fullscreen:!1,reportMessage:"Could not fetch Player data. Timeout"}]))}))}t();var a=setInterval((function(){t()}),6e4);return function(){return clearInterval(a)}}),[g]),c.a.useEffect((function(){void 0!==E.data&&null!==E.data&&R(E.data.Players.length)}),[E]),c.a.useEffect((function(){var e=localStorage.getItem("starred-players");ue(null!==e?e:[])}),[]);var fe=c.a.useState("none"),ye=Object(i.a)(fe,2),ge=ye[0],ve=ye[1],he=c.a.useState(null),xe=Object(i.a)(he,2),Ee=xe[0],be=xe[1];function Ne(e){var t={title:e.title,type:e.chartType,displayType:e.displayType,trendType:e.trendType,showActions:e.showActions,precomment:e.precomment};be(t),ve("block")}var Le=c.a.useState([]),we=Object(i.a)(Le,2),Oe=we[0],Se=we[1];return g&&c.a.createElement("div",null,c.a.createElement(m.a,null,c.a.createElement("title",null,"DDO Live LFM Viewer"),c.a.createElement("meta",{name:"description",content:"Browse players from any server with a live Who panel! Are your friends online? Is your guild forming up for a late-night raid? Now you know!"})),c.a.createElement(d.a,{page:"who/"+g.toLowerCase(),showLink:!1,visibility:ge,componentReference:Ee,hideReportForm:function(){ve("none")}}),c.a.createElement(p.a,{page:"who/"+g.toLowerCase(),messages:Oe,popMessage:function(){if(Oe.length){var e=Object(l.a)(Oe);e=e.slice(1),Se(e)}}}),c.a.createElement(s.a,{pageName:"who/"+g.toLowerCase(),showLink:!1,title:"Currently on "+g,className:"grouping",hideTitleOnMobile:!0,subtitle:E.data?c.a.createElement("div",{className:"grouping-subtitle"},"There ",1===C?"is":"are"," ","currently"," ",c.a.createElement("span",{className:"population-number"},C)," ","player",1===C?"":"s"," online."," ",0===C?"Maybe they're all anonymous.":"Are you one of them?"):c.a.createElement("div",null,"Loading player data..."),reportReference:Ne},w?c.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},!1===Y?c.a.createElement("div",null):c.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},c.a.createElement("form",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",maxWidth:"848px",gap:"25px",flexWrap:"wrap",paddingBottom:"10px"}},c.a.createElement("div",{className:"group-filter-bar",style:{borderStyle:"solid",borderColor:"var(--filter-bar)",borderWidth:"3px",width:"100%",maxWidth:"848px",padding:"0px"}},c.a.createElement("h4",{style:{backgroundColor:"var(--filter-bar)",padding:"0px 0px 3px 5px",marginBottom:"0px"}},"Filter Players"),c.a.createElement("div",{className:"player-filter-input-container"},c.a.createElement("div",{className:"player-filter-input"},c.a.createElement("label",{htmlFor:"charactername",style:{fontSize:"1.2rem"}},"Character name"),c.a.createElement("input",{type:"text",id:"charactername",name:"charactername",onChange:function(){return clearTimeout(t),void(t=setTimeout((function(){var e=document.getElementById("charactername").value;V(e?[].concat(Object(l.a)(U.filter((function(e){return"Name"!==e.type}))),[{type:"Name",value:document.getElementById("charactername").value}]):Object(l.a)(U.filter((function(e){return"Name"!==e.type}))))}),100))}})),c.a.createElement("div",{className:"player-filter-input"},c.a.createElement("label",{htmlFor:"guildname",style:{fontSize:"1.2rem"}},"Guild name"),c.a.createElement("input",{type:"text",id:"guildname",name:"guildname",onChange:function(){return clearTimeout(a),void(a=setTimeout((function(){var e=document.getElementById("guildname").value;V(e?[].concat(Object(l.a)(U.filter((function(e){return"Guild"!==e.type}))),[{type:"Guild",value:document.getElementById("guildname").value}]):Object(l.a)(U.filter((function(e){return"Guild"!==e.type}))))}),100))}})),c.a.createElement("div",{className:"player-filter-input"},c.a.createElement("label",{htmlFor:"minimumlevel",style:{fontSize:"1.2rem"}},"Level range"),c.a.createElement("div",null,c.a.createElement("input",{type:"text",id:"minimumlevel",name:"minimumlevel",style:{maxWidth:"100px"},onChange:function(){return clearTimeout(n),void(n=setTimeout((function(){var e=document.getElementById("minimumlevel").value;V(e?[].concat(Object(l.a)(U.filter((function(e){return"Min Level"!==e.type}))),[{type:"Min Level",value:document.getElementById("minimumlevel").value}]):Object(l.a)(U.filter((function(e){return"Min Level"!==e.type}))))}),100))}}),c.a.createElement("label",{htmlFor:"maximumlevel",style:{padding:"0px 7px 0px 7px",fontSize:"1.1rem"}},"to"),c.a.createElement("input",{type:"text",id:"maximumlevel",name:"maximumlevel",style:{maxWidth:"100px"},onChange:function(){return clearTimeout(r),void(r=setTimeout((function(){var e=document.getElementById("maximumlevel").value;V(e?[].concat(Object(l.a)(U.filter((function(e){return"Max Level"!==e.type}))),[{type:"Max Level",value:document.getElementById("maximumlevel").value}]):Object(l.a)(U.filter((function(e){return"Max Level"!==e.type}))))}),100))}}))),c.a.createElement("div",{className:"player-filter-input"},c.a.createElement("label",{htmlFor:"sort-type",style:{fontSize:"1.2rem"}},"Sort by"),c.a.createElement("div",{style:{display:"flex",flexDirection:"row",gap:"10px"}},c.a.createElement("select",{className:"input-select",name:"sort-type",id:"sort-type",style:{maxWidth:"200px",fontSize:"1.2rem"},onChange:function(){return function(){var e=document.getElementById("sort-type").value;Z(e.toLowerCase())}()}},c.a.createElement("option",{value:"level"},"Level"),c.a.createElement("option",{value:"name"},"Name"),c.a.createElement("option",{value:"guild"},"Guild"),c.a.createElement("option",{value:"location"},"Location")),c.a.createElement("select",{className:"input-select",name:"sort-direction",id:"sort-direction",style:{maxWidth:"200px",fontSize:"1.2rem"},onChange:function(){return function(){var e=document.getElementById("sort-direction").value;ae(e.toLowerCase())}()}},c.a.createElement("option",{value:"ascending"},"Ascending"),c.a.createElement("option",{value:"descending"},"Descending"))))))),U&&0!==U.length&&c.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"left",gap:"5px",padding:"5px 10px 5px 10px",flexWrap:"wrap",alignItems:"center",width:"100%",maxWidth:"848px"}},c.a.createElement("h4",{style:{paddingLeft:"5px",marginBottom:"0px"}},"Active filters:"),U.map((function(e,t){return c.a.createElement("div",{key:t,style:{fontSize:"1.3rem",backgroundColor:"var(--mini-group)",padding:"2px 10px 2px 15px",width:"max-content",borderRadius:"10px",display:"flex",alignItems:"center",cursor:"pointer"},onClick:function(){"Name"===e.type&&(document.getElementById("charactername").value=""),"Guild"===e.type&&(document.getElementById("guildname").value=""),"Min Level"===e.type&&(document.getElementById("minimumlevel").value=""),"Max Level"===e.type&&(document.getElementById("maximumlevel").value=""),V(U.filter((function(e,a){return a!==t})))}},c.a.createElement("span",{style:{color:"var(--text-faded)",marginRight:"5px"}},e.type,":"),c.a.createElement("span",{style:{color:"var(--text)"}},"Group"===e.type?e.meta:e.value),c.a.createElement(I.a,{className:"link-icon",style:{margin:"0px 0px 0px 10px",backgroundColor:"var(--gray6)",borderRadius:"50%",padding:"3px"}}))}))),c.a.createElement("div",{className:"social-container",style:{paddingTop:"10px"}},w&&w.map((function(e,t){return"Anonymous"!==e.Name&&c.a.createElement(k,{key:t,handleStarred:function(){de(e)?ue(me.filter((function(t){return t.name!==e.Name}))):ue([].concat(Object(l.a)(me),[{name:e.Name,server:g}]))},handleClick:function(t){se(e)?ie(le.filter((function(t){return t.Name!==e.Name}))):ie([].concat(Object(l.a)(le),[e]))},handleAddFilter:function(t){"Group"===t?V([].concat(Object(l.a)(U),[{type:"Group",value:e.GroupId,meta:e.Name}])):"Guild"===t?V([].concat(Object(l.a)(U),[{type:"Guild",value:e.Guild}])):"Location"===t&&V([].concat(Object(l.a)(U),[{type:"Location",value:e.Location.Name}]))},player:e,index:t,expanded:se(e),starred:de(e)})})),w&&0===w.count&&c.a.createElement("span",{style:{fontSize:"1.6rem",width:"100%",textAlign:"center"}},"No groups meet your current filter settings")))):c.a.createElement("span",{style:{fontSize:"1.6rem",width:"100%",textAlign:"center"}},"Loading player data...")))}}}]);
//# sourceMappingURL=13.b5367983.chunk.js.map