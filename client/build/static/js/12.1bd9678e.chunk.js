(this.webpackJsonpddo_audit=this.webpackJsonpddo_audit||[]).push([[12],{488:function(e,a,n){"use strict";n.r(a);var t=n(13),r=n(4),l=n(0),o=n.n(l),i=n(79),s=n(66),c=n(80),u=n(81),m=n(118),d=n(62),h=["Argonnessen","Cannith","Ghallanda","Khyber","Orien","Sarlona","Thelanis","Wayfinder","Hardcore"],p=["The apocalypse!","Maybe they're all anonymous.","Everyone got banned."];a.default=function(e){var a=o.a.useState(null),n=Object(r.a)(a,2),l=n[0],y=n[1],w=o.a.useState(null),v=Object(r.a)(w,2),f=v[0],g=v[1];o.a.useEffect((function(){function e(){Object(d.a)("https://www.playeraudit.com/api/playersoverview",5e3).then((function(e){null!==e&&void 0!==e.Timestamp?y(e):(W([].concat(Object(t.a)(L),[{title:"Something went wrong",message:"Pretty descriptive, I know. Try refreshing the page. If the issue continues, please report it.",icon:"warning",fullscreen:!1,reportMessage:JSON.stringify(e)||"Group data returned null"}])),y(null))})).catch((function(){W([].concat(Object(t.a)(L),[{title:"We're stuck on a loading screen",message:"This is taking longer than usual. You can refresh the page or report the issue.",icon:"warning",fullscreen:!1,reportMessage:"Could not fetch Day Population data. Timeout"}]))}))}e();var a=setInterval((function(){e()}),6e4);return function(){return clearInterval(a)}}),[]),o.a.useEffect((function(){if(l){var e=0;e+=l.Argonnessen,e+=l.Cannith,e+=l.Ghallanda,e+=l.Khyber,e+=l.Orien,e+=l.Sarlona,e+=l.Thelanis,e+=l.Wayfinder,e+=l.Hardcore,g(e)}else g(0)}),[l]);var E=o.a.useState("none"),b=Object(r.a)(E,2),O=b[0],S=b[1],k=o.a.useState(null),N=Object(r.a)(k,2),T=N[0];N[1];var j=o.a.useState([]),A=Object(r.a)(j,2),L=A[0],W=A[1];return o.a.createElement("div",null,o.a.createElement(i.a,null,o.a.createElement("title",null,"DDO Live LFM Viewer"),o.a.createElement("meta",{name:"description",content:"Browse players from any server with a live Who panel! Are your friends online? Is your guild forming up for a late-night raid? Now you know!"})),o.a.createElement(c.a,{page:"who",showLink:!1,visibility:O,componentReference:T,hideReportForm:function(){S("none")}}),o.a.createElement(u.a,{page:"who",messages:L,popMessage:function(){if(L.length){var e=Object(t.a)(L);e=e.slice(1),W(e)}}}),o.a.createElement(s.a,{pageName:"who",showLink:!1,title:"Live Who Viewer",subtitle:l?o.a.createElement("div",null,o.a.createElement("div",{className:"grouping-subtitle"},"There are currently"," ",o.a.createElement("span",{className:"population-number"},f)," ","players."," ",f?"Are you one of them?":p[Math.floor(3*Math.random())]),o.a.createElement("div",{className:"grouping-subtitle-mobile",style:{fontSize:"larger"}},"Select a server")):o.a.createElement("div",null,"Loading player data...")},l?o.a.createElement("div",null,o.a.createElement("div",{className:"grouping-server-select-container"},o.a.createElement(m.a,{destination:"who",server:"Argonnessen",number:l.Argonnessen,word:"player"}),o.a.createElement(m.a,{destination:"who",server:"Cannith",number:l.Cannith,word:"player"}),o.a.createElement(m.a,{destination:"who",server:"Ghallanda",number:l.Ghallanda,word:"player"}),o.a.createElement(m.a,{destination:"who",server:"Khyber",number:l.Khyber,word:"player"}),o.a.createElement(m.a,{destination:"who",server:"Orien",number:l.Orien,word:"player"}),o.a.createElement(m.a,{destination:"who",server:"Sarlona",number:l.Sarlona,word:"player"}),o.a.createElement(m.a,{destination:"who",server:"Thelanis",number:l.Thelanis,word:"player"}),o.a.createElement(m.a,{destination:"who",server:"Wayfinder",number:l.Wayfinder,word:"player"}),o.a.createElement(m.a,{destination:"who",server:"Hardcore",number:l.Hardcore,word:"player"}))):o.a.createElement("div",{className:"grouping-server-select-container"},h.map((function(e,a){return o.a.createElement(m.a,{key:a,server:e})})))),o.a.createElement(s.a,{className:"social-extra-info",pageName:"grouping",showLink:!1,title:"",description:"",tiles:[{title:"Live Who Viewer",content:o.a.createElement("div",null,o.a.createElement("p",{style:{fontSize:"larger"}},"Every player on every server, all in one place. Live."),o.a.createElement("h4",null,"Accessible. Installable."),o.a.createElement("p",null,"Visited us on mobile yet? Try it out!"),o.a.createElement("p",null,"You can now install DDO Audit on your mobile device. Quickly browse online player, check if your friends are online, and experience a whole new way to view the Who panel!"),o.a.createElement("hr",null),o.a.createElement("h4",null,"API"),o.a.createElement("p",null,"Need the data for a project of your own? Visit the API page for more information!"))}]}))}}}]);
//# sourceMappingURL=12.1bd9678e.chunk.js.map